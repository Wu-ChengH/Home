<div class="noPublic">
	<div id="noPublicMap"></div>
	<div class="noPub_right">
		<div class="layout_item layout_1">
			<div class="item_title">趋势情况分析</div>
			<div class="item_container"></div>
		</div>
		<div class="layout_item layout_2">
			<div class="item_title">成都市应公示未公示企业名单</div>
			<div class="item_container"></div>
		</div>
	</div>
</div>
<script type="text/javascript">
	define(function(require){
		require("src/webapps/credit/style/noPublic.css");
		var base = require("Base");
		return base.extend({
			onInit:function(){
				this.createMap();
				this.createLine();
				this.createList();
			},
			createMap:function(){
				$.get("static/src/webapps/credit/mapJson.json",function(mapJson){
					// console.log(mapJson);
					echarts.registerMap('成都', mapJson);
				    var chart = echarts.init(document.getElementById('noPublicMap'));
				    chart.setOption({
				        series: [{
				            type: 'map',
				            map: '成都'
				        }]
				    });
				})
			},
			createLine:function(){
				var options1 = {
					title: {
				        text: ''
				    },
				    tooltip: {
				        trigger: 'axis'
				    },
				    legend: {
				        data:['2013','2014','2015','2016']
				    },
				    grid: {
				        left: '3%',
				        right: '4%',
				        bottom: '3%',
				        containLabel: true
				    },
				    xAxis: {
				        type: 'category',
				        boundaryGap: false,
				        data: ['成华区','崇州市','锦江区','大邑县','彭州市','都江堰','浦江','金堂','青羊','武侯']
				    },
				    yAxis: {
				        type: 'value'
				    },
				    series: [
				        {
				            name:'2013',
				            type:'line',
				            stack: '总量',
				            data:[120, 132, 101, 134, 90, 230, 210,101, 134, 90]
				        },
				        {
				            name:'2014',
				            type:'line',
				            stack: '总量',
				            data:[220, 182, 191, 234, 290, 330, 310,101, 134, 90]
				        },
				        {
				            name:'2015',
				            type:'line',
				            stack: '总量',
				            data:[150, 232, 201, 154, 190, 330, 410,101, 134, 90]
				        },
				        {
				            name:'2016',
				            type:'line',
				            stack: '总量',
				            data:[320, 332, 301, 334, 390, 330, 320,101, 134, 90]
				        }
				    ]
				}
				var myChart = echarts.init(this.$(".layout_1 .item_container")[0]);
				myChart.setOption(options1);
			},
			createList:function(){
				var self = this;
				$.get("static/src/webapps/credit/companyData.json",function(dataJson){

					var data = JSON.parse(dataJson).data;
					var listHtml = "<li class='item_header'><span class='item_name'>企业名称</span><span class='item_type'>企业类型</span><span class='item_capital'>注册资本（万元）</span></li>";
					for(var i=0;i<data.length;i++){
						var cur = data[i];
						var name = cur.name;
						var type = cur.type;
						var capital = cur.capital;
						listHtml += "<li class='item_list_info'><span class='item_name'>"+name+"</span><span class='item_type'>"+type+"</span><span class='item_capital'>"+capital+"</span></li>"
					}
					self.$(".layout_2 .item_container").html("<ul class='item_container_ul'>"+listHtml+"</ul");
				})
			}
		})
	});
</script>