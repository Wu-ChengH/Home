<div class="allPublic">
	<div id="all_pub_container"></div>
	<div class="left_container">
		<div class="layout_item layout_1">
			<div class="item_title">各行政区域异常情况分布</div>
			<div class="item_container"></div>
		</div>
		<div class="layout_item layout_2">
			<div class="item_title">各行政区域异常原因分析</div>
			<div class="item_container"></div>
		</div>
		<div class="layout_item layout_3">
			<div class="item_title">各行政区域异常原因分析</div>
			<div class="item_container"></div>
		</div>
	</div>
</div>
<script type="text/javascript">
	define(function(require){
		require("src/webapps/credit/style/allPublic.css");
		var base = require("Base");
		return base.extend({
			onInit:function(){
				this.create();
				this.createLine();
			},
			create:function(){
				$.get("static/src/webapps/credit/mapJson.json",function(mapJson){
					console.log(mapJson);
					echarts.registerMap('成都', mapJson);
				    var chart = echarts.init(document.getElementById('all_pub_container'));
				    chart.setOption({
				        series: [{
				            type: 'map',
				            map: '成都'
				        }]
				    });
				})
			},
			createLine:function(){
				var options1 = {
					legend: {
				        data:['月异常量','异常占比']
				    },
				    grid: {
				        left: '3%',
				        right: '4%',
				        bottom: '3%',
				        containLabel: true
				    },
				    xAxis: [
				        {
				            type: 'category',
				            data: ['成华区','崇州市','锦江区','大邑县','彭州市','都江堰','浦江','金堂','青羊','武侯']
				        }
				    ],
				    yAxis: [
				        {
				            type: 'value',
				            name: '月异常量'
				        },
				        {
				            type: 'value',
				            name: '异常占比',
				            min: 0,
				            max: 100,
				            axisLabel: {
				                formatter: '{value} %'
				            }
				        }
				    ],
				    series: [
				        {
				            name:'月异常量',
				            type:'bar',
				            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0]
				        },
				        {
				            name:'异常占比',
				            type:'line',
				            yAxisIndex: 1,
				            data:[25, 22, 33, 45, 63, 12, 23, 24, 23, 16]
				        }
				    ]
				}
				var myChart = echarts.init(this.$(".layout_1 .item_container")[0]);
				myChart.setOption(options1);



				var options2 = {
					tooltip : {
				        trigger: 'axis',
				        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
				            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
				        }
				    },
				    legend: {
				    	orient: 'horizontal',
				        x: 'bottom',
				        data: ['未及时公示', '公示不完整','公示信息错误','其他']
				    },
				    grid: {
				        left: '3%',
				        right: '4%',
				        bottom: '3%',
				        top:'5px',
				        containLabel: true
				    },
				    xAxis:  {
				        type: 'value'
				    },
				    yAxis: {
				        type: 'category',
				        data: ['武侯区工商','温江区工商','锦江区工商','金牛区工商','高新区工商','郫县区工商','天府新区工商','大邑县工商','彭州市工商','金堂县工商']
				    },
				    series: [
				        {
				            name: '未及时公示',
				            type: 'bar',
				            stack: '总量',
				            label: {
				                normal: {
				                    show: true,
				                    position: 'insideRight'
				                }
				            },
				            data: [320, 302, 301, 334, 390, 330, 320, 390, 330, 320]
				        },
				        {
				            name: '公示不完整',
				            type: 'bar',
				            stack: '总量',
				            label: {
				                normal: {
				                    show: true,
				                    position: 'insideRight'
				                }
				            },
				            data: [120, 132, 101, 134, 90, 230, 210, 390, 330, 320]
				        },
				        {
				            name: '公示信息错误',
				            type: 'bar',
				            stack: '总量',
				            label: {
				                normal: {
				                    show: true,
				                    position: 'insideRight'
				                }
				            },
				            data: [220, 182, 191, 234, 290, 330, 310, 390, 330, 320]
				        },
				        {
				            name: '其他',
				            type: 'bar',
				            stack: '总量',
				            label: {
				                normal: {
				                    show: true,
				                    position: 'insideRight'
				                }
				            },
				            data: [320, 302, 301, 334, 390, 330, 320, 390, 330, 320]
				        }
				    ]
				}
				var myChart2 = echarts.init(this.$(".layout_2 .item_container")[0]);
				myChart2.setOption(options2);


				var options3 = {
					title: {
				        text: ''
				    },
				    tooltip : {
				        trigger: 'axis'
				    },
				    legend: {
				        data:['温江区','武侯区','锦江区','金牛区','高新区']
				    },
				    grid: {
				        left: '3%',
				        right: '4%',
				        bottom: '3%',
				        containLabel: true
				    },
				    xAxis : [
				        {
				            type : 'category',
				            boundaryGap : false,
				            data : ['2010','2011','2012','2013','2014','2015','2016']
				        }
				    ],
				    yAxis : [
				        {
				            type : 'value'
				        }
				    ],
				    series : [
				        {
				            name:'温江区',
				            type:'line',
				            stack: '总量',
				            areaStyle: {normal: {}},
				            data:[120, 132, 101, 134, 90, 230, 210]
				        },
				        {
				            name:'武侯区',
				            type:'line',
				            stack: '总量',
				            areaStyle: {normal: {}},
				            data:[220, 182, 191, 234, 290, 330, 310]
				        },
				        {
				            name:'锦江区',
				            type:'line',
				            stack: '总量',
				            areaStyle: {normal: {}},
				            data:[150, 232, 201, 154, 190, 330, 410]
				        },
				        {
				            name:'金牛区',
				            type:'line',
				            stack: '总量',
				            areaStyle: {normal: {}},
				            data:[320, 332, 301, 334, 390, 330, 320]
				        },
				        {
				            name:'高新区',
				            type:'line',
				            stack: '总量',
				            label: {
				                normal: {
				                    show: true,
				                    position: 'top'
				                }
				            },
				            areaStyle: {normal: {}},
				            data:[820, 932, 901, 934, 1290, 1330, 1320]
				        }
				    ]
				}
				var myChart3 = echarts.init(this.$(".layout_3 .item_container")[0]);
				myChart3.setOption(options3);

			}
		})
	})
</script>